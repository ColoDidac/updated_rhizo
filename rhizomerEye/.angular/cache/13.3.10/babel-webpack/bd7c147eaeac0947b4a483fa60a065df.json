{"ast":null,"code":"import { ActivatedRoute, Router } from '@angular/router';\nimport { forkJoin, Subject } from 'rxjs';\nimport { BreadcrumbService } from '../../breadcrumb/breadcrumb.service';\nimport { ClassService } from '../../class/class.service';\nimport { FacetService } from '../facet.service';\nimport { RangeService } from '../../range/range.service';\nimport { Class } from '../../class/class';\nimport { Facet } from '../facet';\nimport { Description } from '../../description/description';\nimport { Filter, Operator } from '../../breadcrumb/filter';\nimport { takeUntil } from 'rxjs/operators';\nimport { Range } from '../../range/range';\nimport { TranslateService } from '@ngx-translate/core';\nimport { RangeValue } from '../../range/rangeValue';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../../breadcrumb/breadcrumb.service\";\nimport * as i3 from \"@ngx-translate/core\";\nimport * as i4 from \"../../class/class.service\";\nimport * as i5 from \"../facet.service\";\nimport * as i6 from \"../../range/range.service\";\nimport * as i7 from \"@angular/common\";\nimport * as i8 from \"../detail-facet/detail-facet.component\";\nimport * as i9 from \"../../description/description.component\";\nimport * as i10 from \"@ng-bootstrap/ng-bootstrap\";\n\nfunction ListFacetComponent_span_5_a_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"a\", 23);\n    i0.ɵɵlistener(\"click\", function ListFacetComponent_span_5_a_3_Template_a_click_0_listener() {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r14 = i0.ɵɵnextContext(2);\n      return ctx_r14.loadAllFacets();\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r13 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" of \", ctx_r13.datasetClass.facetsCount, \"\");\n  }\n}\n\nfunction ListFacetComponent_span_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵelementStart(1, \"span\", 21);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(3, ListFacetComponent_span_5_a_3_Template, 2, 1, \"a\", 22);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r0.retrievedFacets);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.retrievedFacets < ctx_r0.datasetClass.facetsCount);\n  }\n}\n\nfunction ListFacetComponent_span_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 24);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"translate\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(2, 1, \"search.no-facets\"));\n  }\n}\n\nfunction ListFacetComponent_span_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 21);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"translate\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(2, 1, \"search.loading\"));\n  }\n}\n\nfunction ListFacetComponent_a_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r17 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"a\", 25);\n    i0.ɵɵlistener(\"click\", function ListFacetComponent_a_9_Template_a_click_0_listener() {\n      i0.ɵɵrestoreView(_r17);\n      const ctx_r16 = i0.ɵɵnextContext();\n      return ctx_r16.showFacets = true;\n    });\n    i0.ɵɵelement(1, \"span\", 26);\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ListFacetComponent_a_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r19 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"a\", 25);\n    i0.ɵɵlistener(\"click\", function ListFacetComponent_a_10_Template_a_click_0_listener() {\n      i0.ɵɵrestoreView(_r19);\n      const ctx_r18 = i0.ɵɵnextContext();\n      return ctx_r18.showFacets = false;\n    });\n    i0.ɵɵelement(1, \"span\", 27);\n    i0.ɵɵelementEnd();\n  }\n}\n\nconst _c0 = function (a0, a1) {\n  return {\n    \"d-none d-sm-none d-md-block\": a0,\n    \"d-block\": a1\n  };\n};\n\nfunction ListFacetComponent_div_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 28);\n    i0.ɵɵelement(1, \"app-detail-facet\", 29);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const facet_r20 = ctx.$implicit;\n    const ctx_r6 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(5, _c0, !ctx_r6.showFacets, ctx_r6.showFacets));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"datasetId\", ctx_r6.datasetId)(\"classId\", ctx_r6.classId)(\"facet\", facet_r20)(\"ngUnsubscribe\", ctx_r6.ngUnsubscribe);\n  }\n}\n\nfunction ListFacetComponent_span_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 21);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\"\", ctx_r7.filteredInstances, \"/\", ctx_r7.totalInstances, \"\");\n  }\n}\n\nfunction ListFacetComponent_span_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 24);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"translate\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(2, 1, \"search.no-instances\"));\n  }\n}\n\nfunction ListFacetComponent_span_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 21);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"translate\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(2, 1, \"search.loading\"));\n  }\n}\n\nfunction ListFacetComponent_div_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 30);\n    i0.ɵɵelement(1, \"div\", 31);\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ListFacetComponent_div_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelement(1, \"app-description\", 32);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const resource_r21 = ctx.$implicit;\n    const ctx_r11 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"datasetId\", ctx_r11.datasetId)(\"description\", resource_r21)(\"details\", false)(\"anonDescriptions\", ctx_r11.anonResources)(\"labels\", ctx_r11.labels);\n  }\n}\n\nfunction ListFacetComponent_p_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 33);\n    i0.ɵɵi18n(1, 34);\n    i0.ɵɵpipe(2, \"translate\");\n    i0.ɵɵpipe(3, \"translate\");\n    i0.ɵɵpipe(4, \"translate\");\n    i0.ɵɵpipe(5, \"translate\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r12 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵi18nExp(i0.ɵɵpipeBind1(2, 8, \"search.showing\"))(ctx_r12.resources == null ? null : ctx_r12.resources.length)(i0.ɵɵpipeBind1(3, 10, \"search.outof\"))(ctx_r12.filteredInstances)(ctx_r12.filteredInstances)(i0.ɵɵpipeBind1(4, 12, \"search.instances\"))(i0.ɵɵpipeBind1(5, 14, \"search.filter\"))(ctx_r12.totalInstances);\n    i0.ɵɵi18nApply(1);\n  }\n}\n\nexport let ListFacetComponent = /*#__PURE__*/(() => {\n  class ListFacetComponent {\n    constructor(router, route, breadcrumbService, translate, classService, facetService, rangeService) {\n      this.router = router;\n      this.route = route;\n      this.breadcrumbService = breadcrumbService;\n      this.translate = translate;\n      this.classService = classService;\n      this.facetService = facetService;\n      this.rangeService = rangeService;\n      this.ngUnsubscribe = new Subject();\n      this.facets = [];\n      this.relevance = 0.2;\n      this.totalInstances = 0;\n      this.page = 1;\n      this.pageSize = 10;\n      this.datasetClass = new Class();\n      this.resources = [];\n      this.anonResources = new Map();\n      this.labels = new Map();\n    }\n\n    ngOnInit() {\n      this.datasetId = this.route.snapshot.paramMap.get('did') || 'default';\n      this.classId = this.route.snapshot.paramMap.get('cid');\n      this.refreshFacets(this.relevance, this.route.snapshot.queryParamMap);\n    }\n\n    refreshFacets(relevance, params) {\n      if (params.keys.length) {\n        relevance = 0;\n      }\n\n      this.facetService.getAllRelevant(this.datasetId, this.classId, relevance).subscribe({\n        next: facets => {\n          this.facets = facets.map(result => new Facet(result)).sort((a, b) => a.getLabel(this.translate.currentLang).localeCompare(b.getLabel(this.translate.currentLang)));\n          this.retrievedFacets = facets.length;\n          this.loadFacetClass();\n          forkJoin(this.facets.map(facet => this.rangeService.getAll(this.datasetId, this.classId, facet.curie))).subscribe(facetsRanges => {\n            facetsRanges.map((ranges, i) => this.facets[i].ranges = ranges.map(range => new Range(range)));\n            this.loadFilters(params);\n          });\n        },\n        error: () => this.router.navigate(['..'], {\n          relativeTo: this.route\n        })\n      });\n    }\n\n    loadFilters(params) {\n      const paramFilters = params.keys.map(key => {\n        const valueParam = params.get(key);\n        const facetCurie = key.split(' ')[0] || null;\n        const rangeCurie = key.split(' ')[1] || null;\n        const facet = this.facets.find(f => f.curie === facetCurie);\n\n        if (facet) {\n          const range = facet.ranges.find(r => r.curie === rangeCurie);\n          const operator = Filter.parseOperator(valueParam);\n          const values = Filter.parseValues(valueParam, facet, operator);\n          return new Filter(this.classId, facet, range, operator, values);\n        } else if (facetCurie === 'rhz:contains') {\n          return new Filter(this.classId, Facet.searchFacet, Range.searchRange, Operator.NONE, [new RangeValue({\n            value: valueParam\n          }, Facet.searchFacet, [])]);\n        } else {\n          return null;\n        }\n      }).filter(filter => !!filter);\n      paramFilters.forEach(filter => {\n        if (!filter.values.length) {\n          filter.facet.selected = true;\n        } else {\n          filter.range.expanded = true;\n        }\n      });\n      this.breadcrumbService.addFacetFilters(paramFilters);\n      this.breadcrumbService.filtersSelection.pipe(takeUntil(this.ngUnsubscribe)).subscribe(filters => this.refreshInstances(this.datasetId, this.classId, filters));\n    }\n\n    loadFacetClass() {\n      this.classService.get(this.datasetId, this.classId).subscribe(datasetClass => {\n        this.datasetClass = datasetClass;\n        this.totalInstances = datasetClass.instanceCount;\n      });\n    }\n\n    refreshInstances(datasetId, classId, filters) {\n      this.filteredInstances = undefined;\n      this.resources = undefined;\n      this.page = 1;\n      window.scrollTo(0, 0);\n      this.classService.getInstancesCount(datasetId, classId, filters).subscribe(count => {\n        this.filteredInstances = count;\n        this.loadInstances(datasetId, classId, filters, this.page);\n      });\n    }\n\n    loadInstances(datasetId, classId, filters, page) {\n      this.classService.getInstances(datasetId, classId, filters, page, this.pageSize).subscribe(instances => {\n        this.labels = new Map([...Description.getLabels(instances)]);\n\n        if (instances['@graph']) {\n          this.anonResources = Description.getAnonResources(instances, this.labels, this.translate.currentLang);\n          this.resources = Description.getResourcesOfType(instances, this.datasetClass.uri, this.labels, this.translate.currentLang);\n        } else if (instances['@type']) {\n          this.resources = [new Description(instances, instances['@context'], this.labels, this.translate.currentLang)];\n        } else {\n          this.resources = [];\n        }\n\n        this.sortResource();\n      });\n    }\n\n    goToPage(page) {\n      window.scrollTo(0, 0);\n      this.resources = undefined;\n      this.loadInstances(this.datasetId, this.classId, this.breadcrumbService.filters, page);\n    }\n\n    loadAllFacets() {\n      this.refreshFacets(0, Filter.toParamMap(this.breadcrumbService.filters));\n    }\n\n    sortResource() {\n      this.resources.sort((a, b) => {\n        if (a.label && b.label) {\n          return a.label.toLowerCase().localeCompare(b.label.toLowerCase());\n        } else if (!a.label && b.label) {\n          return -1;\n        } else if (a.label && !b.label) {\n          return 1;\n        } else {\n          return a['@id'].localeCompare(b['@id']);\n        }\n      });\n    }\n\n    filterContains(searchText) {\n      this.breadcrumbService.addFacetFilterValue(this.classId, Facet.searchFacet, Range.searchRange, new RangeValue({\n        value: searchText.value\n      }, Facet.searchFacet, []), Operator.NONE);\n      searchText.value = '';\n    }\n\n    ngOnDestroy() {\n      this.ngUnsubscribe.next();\n      this.ngUnsubscribe.complete();\n      this.breadcrumbService.clearFilter();\n    }\n\n  }\n\n  ListFacetComponent.ɵfac = function ListFacetComponent_Factory(t) {\n    return new (t || ListFacetComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.BreadcrumbService), i0.ɵɵdirectiveInject(i3.TranslateService), i0.ɵɵdirectiveInject(i4.ClassService), i0.ɵɵdirectiveInject(i5.FacetService), i0.ɵɵdirectiveInject(i6.RangeService));\n  };\n\n  ListFacetComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ListFacetComponent,\n    selectors: [[\"app-list-facet\"]],\n    decls: 31,\n    vars: 27,\n    consts: function () {\n      let i18n_2;\n\n      if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n        const MSG_EXTERNAL_2471352099891303457$$SRC_APP_FACET_LIST_FACET_LIST_FACET_COMPONENT_TS__3 = goog.getMsg(\"{VAR_PLURAL, plural, =1 {1 instance} other {{INTERPOLATION} {INTERPOLATION_1}}}\");\n        i18n_2 = MSG_EXTERNAL_2471352099891303457$$SRC_APP_FACET_LIST_FACET_LIST_FACET_COMPONENT_TS__3;\n      } else {\n        i18n_2 = $localize`:␟7e7804ef41f395525335be253cdb0d9adaa9262e␟2471352099891303457:{VAR_PLURAL, plural, =1 {1 instance} other {{INTERPOLATION} {INTERPOLATION_1}}}`;\n      }\n\n      i18n_2 = i0.ɵɵi18nPostprocess(i18n_2, {\n        \"VAR_PLURAL\": \"\\uFFFD3\\uFFFD\",\n        \"INTERPOLATION\": \"\\uFFFD4\\uFFFD\",\n        \"INTERPOLATION_1\": \"\\uFFFD5\\uFFFD\"\n      });\n      let i18n_1;\n\n      if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n        const MSG_EXTERNAL_7516835192277128205$$SRC_APP_FACET_LIST_FACET_LIST_FACET_COMPONENT_TS__4 = goog.getMsg(\" {$interpolation} {$interpolation_1} {$interpolation_2} {$icu} {$interpolation_5} {$interpolation_6}\", {\n          \"interpolation\": \"\\uFFFD0\\uFFFD\",\n          \"interpolation_1\": \"\\uFFFD1\\uFFFD\",\n          \"interpolation_2\": \"\\uFFFD2\\uFFFD\",\n          \"interpolation_5\": \"\\uFFFD6\\uFFFD\",\n          \"interpolation_6\": \"\\uFFFD7\\uFFFD\",\n          \"icu\": i18n_2\n        });\n        i18n_1 = MSG_EXTERNAL_7516835192277128205$$SRC_APP_FACET_LIST_FACET_LIST_FACET_COMPONENT_TS__4;\n      } else {\n        i18n_1 = $localize`:␟03432ad00f8e9a056db7e5e0d8f8033e54094e64␟7516835192277128205: ${\"\\uFFFD0\\uFFFD\"}:INTERPOLATION: ${\"\\uFFFD1\\uFFFD\"}:INTERPOLATION_1: ${\"\\uFFFD2\\uFFFD\"}:INTERPOLATION_2: ${i18n_2}:ICU: ${\"\\uFFFD6\\uFFFD\"}:INTERPOLATION_5: ${\"\\uFFFD7\\uFFFD\"}:INTERPOLATION_6:`;\n      }\n\n      return [[\"id\", \"faceted\", 1, \"row\"], [\"id\", \"facets\", 1, \"col-md-4\", \"m-0\"], [1, \"p-1\"], [4, \"ngIf\"], [\"class\", \"badge badge-danger badge-pill\", 4, \"ngIf\"], [\"class\", \"badge badge-warning badge-pill\", 4, \"ngIf\"], [1, \"d-block\", \"d-md-none\", \"d-lg-none\", \"d-xl-none\", \"float-right\"], [3, \"click\", 4, \"ngIf\"], [1, \"card\", \"facet\", \"p-2\", \"mb-2\"], [1, \"input-group\"], [\"id\", \"search\", \"name\", \"search\", \"type\", \"text\", 1, \"pl-3\", \"form-control\", \"form-control-sm\", 3, \"placeholder\", \"keyup.enter\"], [\"search\", \"\"], [1, \"input-group-append\"], [\"type\", \"button\", 1, \"btn\", \"btn-sm\", \"btn-secondary\", 3, \"click\"], [1, \"fa\", \"fa-search\"], [3, \"ngClass\", 4, \"ngFor\", \"ngForOf\"], [\"id\", \"instances\", 1, \"col-md-8\", \"m-0\"], [\"id\", \"loading\", \"class\", \"text-center mb-3\", 4, \"ngIf\"], [4, \"ngFor\", \"ngForOf\"], [\"size\", \"sm\", 1, \"d-flex\", \"justify-content-center\", 3, \"page\", \"pageSize\", \"collectionSize\", \"rotate\", \"maxSize\", \"directionLinks\", \"pageChange\"], [\"class\", \"text-center\", 4, \"ngIf\"], [1, \"badge\", \"badge-warning\", \"badge-pill\"], [\"class\", \"badge\", \"title\", \"Load all facets\", 3, \"routerLink\", \"click\", 4, \"ngIf\"], [\"title\", \"Load all facets\", 1, \"badge\", 3, \"routerLink\", \"click\"], [1, \"badge\", \"badge-danger\", \"badge-pill\"], [3, \"click\"], [1, \"fa\", \"fa-plus-circle\", \"ml-1\"], [1, \"fa\", \"fa-minus-circle\", \"ml-1\"], [3, \"ngClass\"], [3, \"datasetId\", \"classId\", \"facet\", \"ngUnsubscribe\"], [\"id\", \"loading\", 1, \"text-center\", \"mb-3\"], [\"id\", \"spinner\"], [3, \"datasetId\", \"description\", \"details\", \"anonDescriptions\", \"labels\"], [1, \"text-center\"], i18n_1];\n    },\n    template: function ListFacetComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        const _r22 = i0.ɵɵgetCurrentView();\n\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵelementStart(2, \"h5\", 2);\n        i0.ɵɵtext(3);\n        i0.ɵɵpipe(4, \"translate\");\n        i0.ɵɵtemplate(5, ListFacetComponent_span_5_Template, 4, 2, \"span\", 3);\n        i0.ɵɵtemplate(6, ListFacetComponent_span_6_Template, 3, 3, \"span\", 4);\n        i0.ɵɵtemplate(7, ListFacetComponent_span_7_Template, 3, 3, \"span\", 5);\n        i0.ɵɵelementStart(8, \"span\", 6);\n        i0.ɵɵtemplate(9, ListFacetComponent_a_9_Template, 2, 0, \"a\", 7);\n        i0.ɵɵtemplate(10, ListFacetComponent_a_10_Template, 2, 0, \"a\", 7);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"div\", 8);\n        i0.ɵɵelementStart(12, \"div\", 9);\n        i0.ɵɵelementStart(13, \"input\", 10, 11);\n        i0.ɵɵlistener(\"keyup.enter\", function ListFacetComponent_Template_input_keyup_enter_13_listener() {\n          i0.ɵɵrestoreView(_r22);\n\n          const _r5 = i0.ɵɵreference(14);\n\n          return ctx.filterContains(_r5);\n        });\n        i0.ɵɵpipe(15, \"translate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(16, \"div\", 12);\n        i0.ɵɵelementStart(17, \"button\", 13);\n        i0.ɵɵlistener(\"click\", function ListFacetComponent_Template_button_click_17_listener() {\n          i0.ɵɵrestoreView(_r22);\n\n          const _r5 = i0.ɵɵreference(14);\n\n          return ctx.filterContains(_r5);\n        });\n        i0.ɵɵelement(18, \"span\", 14);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(19, ListFacetComponent_div_19_Template, 2, 8, \"div\", 15);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(20, \"div\", 16);\n        i0.ɵɵelementStart(21, \"h5\", 2);\n        i0.ɵɵtext(22);\n        i0.ɵɵpipe(23, \"translate\");\n        i0.ɵɵtemplate(24, ListFacetComponent_span_24_Template, 2, 2, \"span\", 5);\n        i0.ɵɵtemplate(25, ListFacetComponent_span_25_Template, 3, 3, \"span\", 4);\n        i0.ɵɵtemplate(26, ListFacetComponent_span_26_Template, 3, 3, \"span\", 5);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(27, ListFacetComponent_div_27_Template, 2, 0, \"div\", 17);\n        i0.ɵɵtemplate(28, ListFacetComponent_div_28_Template, 2, 5, \"div\", 18);\n        i0.ɵɵelementStart(29, \"ngb-pagination\", 19);\n        i0.ɵɵlistener(\"pageChange\", function ListFacetComponent_Template_ngb_pagination_pageChange_29_listener($event) {\n          return ctx.page = $event;\n        })(\"pageChange\", function ListFacetComponent_Template_ngb_pagination_pageChange_29_listener($event) {\n          return ctx.goToPage($event);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(30, ListFacetComponent_p_30_Template, 6, 16, \"p\", 20);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind1(4, 21, \"search.facets\"), \" \");\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.retrievedFacets > 0);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.retrievedFacets === 0);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.retrievedFacets === undefined);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", !ctx.showFacets);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.showFacets);\n        i0.ɵɵadvance(3);\n        i0.ɵɵpropertyInterpolate(\"placeholder\", i0.ɵɵpipeBind1(15, 23, \"search.facet-search\"));\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngForOf\", ctx.facets);\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind1(23, 25, \"search.Instances\"), \" \");\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.filteredInstances > 0);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.filteredInstances === 0);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.filteredInstances === undefined);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.resources === undefined);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", ctx.resources);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"page\", ctx.page)(\"pageSize\", ctx.pageSize)(\"collectionSize\", ctx.filteredInstances)(\"rotate\", true)(\"maxSize\", 5)(\"directionLinks\", false);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.totalInstances && ctx.filteredInstances);\n      }\n    },\n    directives: [i7.NgIf, i1.RouterLinkWithHref, i7.NgForOf, i7.NgClass, i8.DetailFacetComponent, i9.DescriptionComponent, i10.NgbPagination],\n    pipes: [i3.TranslatePipe],\n    styles: [\".facet[_ngcontent-%COMP%]{background-color:#f8f9fa}\"]\n  });\n  return ListFacetComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}